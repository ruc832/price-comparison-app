{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{useParams,useNavigate}from\"react-router-dom\";import ProductCard from\"../components/ProductCard\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ComparePage=()=>{const{product}=useParams();//get product from the url\nconst[data,setData]=useState([]);// store the data in state\nconst[loading,setLoading]=useState(true);const[error,setError]=useState(null);//show product is loading \nconst navigate=useNavigate();//fetch data using useeffect\nuseEffect(()=>{const FetchPrices=async()=>{try{setLoading(true);const res=await axios.get(`http://localhost:4000/compare?product=${product}`);//hit backend api\nsetData(res.data);//now dta come in frontend state  store in react\n}catch(err){console.error(\"Error in Fetching data\",err);setError(\"Failed to load data\");}finally{setLoading(false);}};FetchPrices();},[product]);if(loading)return/*#__PURE__*/_jsx(\"p\",{className:\"text-center mt-4\",children:\" Loading ...\"});if(error){return/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mt-10 text-red-600\",children:[\"\\u274C \",error]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 max-w-2xl mx-auto\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-bold mb-4 text-center \",children:[\"Results for :\",/*#__PURE__*/_jsx(\"span\",{className:\"text-blue-600\",children:product})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/compare\"),className:\"text-sm text-red-600 border border-red-600 px-3 py-1 rounded hover:bg-red-600 hover:text-white transition\",children:\"Clear\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[data.filter(item=>item.title!==\"Not Found\"&&item.price!==\"Not Found\").length===0&&/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-gray-500\",children:\"No matching products found.\"}),data.filter(item=>item.title!==\"Not Found\"&&item.price!==\"Not Found\").map((item,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl p-5 shadow-md hover:shadow-lg transition duration-300 border border-gray-200\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-2\",children:item.source}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700 font-medium mb-1\",children:item.title!==\"Not Found\"?item.title:\"No product found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-green-600 font-bold\",children:item.price!==\"Not Found\"?item.price:\"N/A\"}),item.link&&item.link.startsWith(\"http\")?/*#__PURE__*/_jsx(\"a\",{href:item.link,target:\"_blank\",rel:\"noopener noreferrer\",className:\"inline-block bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition\",children:\"View Product\"}):/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-500\",children:\"No link available\"})]},index))]})]});};export default ComparePage;","map":{"version":3,"names":["React","useState","useEffect","axios","useParams","useNavigate","ProductCard","jsx","_jsx","jsxs","_jsxs","ComparePage","product","data","setData","loading","setLoading","error","setError","navigate","FetchPrices","res","get","err","console","className","children","onClick","filter","item","title","price","length","map","index","source","link","startsWith","href","target","rel"],"sources":["C:/Users/HP/Documents/price-comparison-app/Frontend/src/Pages/ComparePage.jsx"],"sourcesContent":["import React,{useState,useEffect} from \"react\";\r\nimport axios from \"axios\";\r\nimport {useParams ,useNavigate} from \"react-router-dom\";\r\nimport ProductCard from \"../components/ProductCard\";\r\n\r\n\r\nconst ComparePage=()=>{\r\n    const{product}=useParams();   //get product from the url\r\n    const[data,setData]=useState([]);     // store the data in state\r\n    const[loading,setLoading]=useState(true); \r\n    const [error, setError] = useState(null); //show product is loading \r\n    const navigate=useNavigate();\r\n    \r\n    \r\n\r\n    //fetch data using useeffect\r\n    useEffect(()=>{\r\n        const FetchPrices=async()=>{\r\n            try {\r\n                setLoading(true);\r\n                const res = await axios.get(`http://localhost:4000/compare?product=${product}`);  //hit backend api\r\n                setData(res.data); //now dta come in frontend state  store in react\r\n            } catch (err) {\r\n                console.error(\"Error in Fetching data\" ,err);\r\n                setError(\"Failed to load data\");\r\n            }finally{\r\n                setLoading(false);\r\n            }\r\n        };\r\n        FetchPrices();\r\n    },[product]);\r\n\r\n    if(loading) return <p className=\"text-center mt-4\"> Loading ...</p>\r\n    if (error) {\r\n      return <div className=\"text-center mt-10 text-red-600\">‚ùå {error}</div>;\r\n    }\r\n\r\n    return (\r\n      <div className=\"p-4 max-w-2xl mx-auto\">\r\n        <h2 className=\"text-xl font-bold mb-4 text-center \">\r\n          Results for :<span className=\"text-blue-600\">{product}</span>\r\n        </h2>\r\n        {/* Clear button */}\r\n        <button\r\n          onClick={() => navigate(\"/compare\")}\r\n          className=\"text-sm text-red-600 border border-red-600 px-3 py-1 rounded hover:bg-red-600 hover:text-white transition\">\r\n          Clear\r\n        </button>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n        {data.filter(item => item.title !== \"Not Found\" && item.price !== \"Not Found\").length === 0 && (\r\n         <p className=\"text-center text-gray-500\">No matching products found.</p>)}\r\n         {data.filter((item) => item.title !== \"Not Found\" && item.price !== \"Not Found\")\r\n         .map((item, index) => (\r\n          <div\r\n            key={index}\r\n            className=\"bg-white rounded-2xl p-5 shadow-md hover:shadow-lg transition duration-300 border border-gray-200\"\r\n          >\r\n            <h3 className=\"text-lg font-semibold mb-2\">{item.source}</h3>\r\n            <p className=\"text-gray-700 font-medium mb-1\">\r\n              {item.title !== \"Not Found\" ? item.title : \"No product found\"}\r\n            </p>\r\n            <p className=\"text-green-600 font-bold\">\r\n              {item.price !== \"Not Found\" ? item.price : \"N/A\"}\r\n            </p>\r\n            {item.link && item.link.startsWith(\"http\") ? (\r\n              <a\r\n                href={item.link}\r\n                target=\"_blank\"\r\n                rel=\"noopener noreferrer\"\r\n                className=\"inline-block bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition\"\r\n              >\r\n                View Product\r\n              </a>\r\n            ) : (\r\n              <span className=\"text-sm text-gray-500\">No link available</span>\r\n            )}\r\n          </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n};\r\n\r\nexport default ComparePage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}